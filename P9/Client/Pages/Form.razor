@page "/"
@inject Microsoft.AspNetCore.Components.NavigationManager navigationManager
@using p9.client.Mydata

<h1>Welcome To Your Shop </h1>

<p>At first you should sign up 😀😀 </p>
<div class="center">
    <EditForm Model="@karbar.user2" OnValidSubmit="create1">

        <label> Name:</label><br/>
        <InputText id="name" @bind-Value="@karbar.user2.FirstName" required />
        <br/>
        <label>Lastname:</label><br/>
        <InputText id="last name" @bind-Value ="@karbar.user2.LastName" required/>
        <br/>
        <br/>
        <button type="submit">Sign up</button> 
    </EditForm>
</div>
@* <EditForm Model="@f" OnValidSubmit="result">

    <label> Name:</label><br/>
    <InputText id="name" @bind-Value="f.name" required />
    <br/>
    <label>Lastname:</label><br/>
    <InputText id="last name" @bind-Value ="f.lastname" required/>
    <br/>
    <label for="email">Email:</label>
    <br/>
    <input type="email" id="email" name="email" @bind-value="f.email" required>
    <button type="submit">Submit</button>
    @* <a href="../counter"></a> *@
    @* <button type="submit"  >go to shop</button>

</EditForm> *@ 



@code
{
    public async Task create1()
    {
        HttpClient client = new HttpClient();
        await client.PostAsJsonAsync("http://localhost:5000/api/User/createuser",karbar.user2);
        StateHasChanged();

        result();
    }
    public void result ()
    {
        navigationManager.NavigateTo("/fetchdata");
    }
}
